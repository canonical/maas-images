product_id: "com.ubuntu.maas.daily:1:bootloaders-bases:{bootloader}"
content_id: "com.ubuntu.maas:daily:1:bootloaders-bases-download"

bootloaders:
 - bootloader: pxe
   packages:
    - pxelinux
    - syslinux-common
   arch: amd64
   archive: http://archive.ubuntu.com/ubuntu
   release: xenial
   files:
    - /usr/lib/PXELINUX/pxelinux.0
    - /usr/lib/syslinux/modules/bios/*.c32
 - bootloader: uefi
   packages:
    - shim-signed
    - grub-efi-amd64-signed
   arch: amd64
   archive: http://archive.ubuntu.com/ubuntu
   release: xenial
   files:
    - /usr/lib/shim/shim.efi.signed, bootx64.efi
    - /usr/lib/grub/x86_64-efi-signed/grubnetx64.efi.signed, grubx64.efi
 - bootloader: uefi-arm64
   packages:
    - grub-efi-arm64-bin
   arch: arm64
   archive: http://ports.ubuntu.com
   release: xenial
   files:
    - /usr/lib/grub/arm64-efi/
   grub_format: arm64-efi
   grub_output: grubaa64.efi
   grub_config: |
      # MAAS GRUB2 pre-loader configuration file
      
      # Load based on MAC address first.
      configfile (pxe)/grub/grub.cfg-${net_default_mac}

      # Failed to load based on MAC address.
      # Load arm64 by default, UEFI only supported by 64-bit
      configfile (pxe)/grub/grub.cfg-default-arm64
 - bootloader: powerkvm
   packages:
    - grub-ieee1275-bin
   arch: ppc64el
   archive: http://ports.ubuntu.com
   release: xenial
   files:
    - /usr/lib/grub/powerpc-ieee1275/
   grub_format: powerpc-ieee1275
   grub_output: bootppc64.bin
   grub_config: |
      configfile (pxe)/grub/grub.cfg-${net_default_mac}
      configfile (pxe)/grub/grub.cfg-default-ppc64el
