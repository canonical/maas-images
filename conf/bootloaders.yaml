product_id: "com.ubuntu.maas.candidate:1:{os}:{firmware_platform}:{arch}"
content_id: "com.ubuntu.maas:candidate:1:bootloader-download"

bootloaders:
 - firmware-platform: pxe
   packages:
    - pxelinux
    - syslinux-common
   arch: i386
   arches: i386,amd64
   archive: http://archive.ubuntu.com/ubuntu
   release: jammy
   # pxelinux and syslinux-common were accidentally removed from main. It has
   # been added back to main and is supported by foundations however because
   # there have been no updates its still in universe.
   allow_universe: True
   os: pxelinux
   files:
    - usr/lib/PXELINUX/pxelinux.0
    - usr/lib/PXELINUX/lpxelinux.0
    - usr/lib/syslinux/modules/bios/*.c32
 - firmware-platform: uefi
   packages:
    - shim-signed
    - grub-efi-amd64-signed
   arch: amd64
   arches: amd64
   archive: http://archive.ubuntu.com/ubuntu
   release: jammy
   os: grub-efi-signed
   files:
    - usr/lib/shim/shimx64.efi.signed.latest, bootx64.efi
    - usr/lib/grub/x86_64-efi-signed/grubnetx64.efi.signed, grubx64.efi
 - firmware-platform: uefi
   packages:
    - shim-signed
    - grub-efi-arm64-signed
   arch: arm64
   arches: arm64
   archive: http://ports.ubuntu.com
   release: jammy
   os: grub-efi
   files:
    - usr/lib/shim/shimaa64.efi.signed.latest, bootaa64.efi
    - usr/lib/grub/arm64-efi-signed/grubnetaa64.efi.signed, grubaa64.efi
 - firmware-platform: open-firmware
   packages:
    - grub-ieee1275-bin
   arch: ppc64el
   arches: ppc64el,ppc64
   archive: http://ports.ubuntu.com
   # We are waiting to upgrade to Focal for prebuilt signed PPC64 GRUB and
   # shim packages to be built, like all other platforms have. The builder
   # is on Precice and is unable to create Focal grub image.
   release: xenial
   os: grub-ieee1275
   files:
    - usr/lib/grub/powerpc-ieee1275/
   grub_format: powerpc-ieee1275
   grub_output: bootppc64.bin
   grub_config: |
      configfile (pxe)/grub/grub.cfg-${net_default_mac}
      configfile (pxe)/grub/grub.cfg-default-ppc64el

# vi: syntax=yaml nowrap
